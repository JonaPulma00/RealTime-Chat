<div class="container" #container role="main">
  <div class="forms-container">
    <div class="signin-signup">
      <!-- Sign In Form -->
      <form action="#" class="sign-in-form" aria-labelledby="signin-title">
        <h2 class="title" id="signin-title">Inicia sesión en tu cuenta</h2>
        
        <div *ngIf="loginError" class="error-message-backend">
          {{ loginError }}
        </div>
        
        <div class="input-field-2" [class.input-error]="loginValidationErrors.email">
          <label for="signin-email" class="visually-hidden">Email</label>
          <input type="email" 
                 id="signin-email"
                 name="email"
                 [(ngModel)]="loginCredentials.email" 
                 placeholder="Email"
                 aria-required="true"
                 tabindex="1"/>
          <div *ngIf="loginValidationErrors.email" class="error-message">
            Email requerido
          </div>
        </div>
        
        <div class="input-field-2" [class.input-error]="loginValidationErrors.password">
          <label for="signin-password" class="visually-hidden">Contraseña</label>
          <input type="password"
                 id="signin-password"
                 name="password"
                 [(ngModel)]="loginCredentials.password"
                 placeholder="Contraseña"
                 aria-required="true"
                 tabindex="2"/>
          <div *ngIf="loginValidationErrors.password" class="error-message">
            Contraseña requerida
          </div>
        </div>
        <div class="forgot-password">Olvidé mi contraseña</div>

        <button id="sign-in-btn" 
                class="btn solid" 
                (click)="handleSignIn()"
                aria-label="Iniciar sesión"
                tabindex="3"> 
          Iniciar
        </button>
      </form>

      <!-- Sign Up Form -->
      <form action="#" class="sign-up-form" aria-labelledby="signup-title" (submit)="onSubmit()">
        <h2 class="title" id="signup-title">Regístrate y chatea en tiempo real</h2>

        <div *ngIf="registerError" class="error-message-backend">
          {{ registerError }}
        </div>
        
        <div class="input-field" [class.input-error]="validationErrors.username">
          <label for="signup-username" class="visually-hidden">Usuario</label>
          <input type="text"
                 id="signup-username"
                 name="username"
                 [(ngModel)]="registerUser.username"
                 required
                 placeholder="Usuario"
                 aria-required="true"
                 tabindex="4"/>
          <div *ngIf="validationErrors.username" class="error-message">
            Usuario requerido
          </div>
        </div>
        
        <div class="input-field" [class.input-error]="validationErrors.email">
          <label for="signup-email" class="visually-hidden">Email</label>
          <input type="email"
                 id="signup-email"
                 name="email"
                 [(ngModel)]="registerUser.email"
                 required
                 placeholder="Email"
                 aria-required="true"
                 tabindex="5"/>
          <div *ngIf="validationErrors.email" class="error-message">
            Email requerido
          </div>
        </div>
        
        <div class="input-field" [class.input-error]="validationErrors.password || validationErrors.passwordRegex">
          <label for="signup-password" class="visually-hidden">Contraseña</label>
          <input type="password"
                 id="signup-password"
                 name="password"
                 [(ngModel)]="registerUser.password"
                 required
                 placeholder="Contraseña"
                 tabindex="6"/>
          <div *ngIf="validationErrors.password" class="error-message">
            Contraseña requerida
          </div>
          <div *ngIf="validationErrors.passwordRegex" class="error-message">
            Contraseña débil
          </div>
        </div>
        
        <div class="input-field" [class.input-error]="validationErrors.confirmPassword">
          <label for="signup-confirm-password" class="visually-hidden">Confirmación de Contraseña</label>
          <input type="password"
                 id="signup-confirm-password"
                 name="confirmPassword"
                 [(ngModel)]="registerUser.confirmPassword"
                 required
                 placeholder="Confirma tu contraseña"
                 aria-required="true"
                 tabindex="7"/>
          <div *ngIf="validationErrors.confirmPassword" class="error-message">
            Las contraseñas no coinciden
          </div>
        </div>
        
        <button type="submit" class="btn" aria-label="Registrarse" tabindex="5">
          Registrarme
        </button>
      </form>

      <!-- Mensaje de registro correcto -->
      <div class="wrapper">
        <div *ngIf="registrationSuccess" class="success-message">
          <p>Registro correcto!</p>
        </div>
      </div>
    </div>
  </div>

  <div class="panels-container">
    <!-- Left Panel -->
    <div class="panel left-panel" role="complementary">
      <div class="content">
        <h1 class="service-title">¡Chatea ya!</h1>
        <br>
        <p>Únete a cientos de grupos con cientos de temáticas</p>
        <br>
        <button class="btn transparent" 
                id="sign-up-btn"
                #signUpBtn
                aria-label="Cambiar a formulario de registro"
                tabindex="9">
          ¡Registrarme!
        </button>
      </div>
      <img src="/logo-alternative.png" class="image" alt="Il·lustració logo Chat Online"/> 
    </div>

    <!-- Right Panel -->
    <div class="panel right-panel" role="complementary">
      <div class="content">
        <h1>¡Chatea ya!</h1>
        <br>
        <p>Inicia sesión en tu cuenta para comunicarte con tus amigos</p>
        <br>
        <button class="btn transparent" 
                id="sign-in-btn"
                #signInBtn
                aria-label="Cambiar a formulario de inicio de sesión"
                tabindex="10">
          Inicia sesión
        </button> 
      </div>
      <img src="/logo-alternative.png" class="image" alt="Il·lustració logo Chat Online"/>
    </div>
  </div>
</div>